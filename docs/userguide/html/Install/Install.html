<!doctype html>
<html class="no-js" lang="en">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />
<link rel="index" title="Index" href="../genindex.html" /><link rel="search" title="Search" href="../search.html" /><link rel="next" title="Run guide" href="Run.html" /><link rel="prev" title="Algorithm" href="../Algorithm/Algorithm.html" />

    <link rel="shortcut icon" href="../_static/niamh-favicon.png"/><!-- Generated with Sphinx 5.3.0 and Furo 2023.03.27 -->
        <title>Installation guide - NIAMH-MPCD documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?digest=fad236701ea90a88636c2a8c73b44ae642ed2a53" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?digest=30d1aed668e5c3a91c3e3bf6a60b675221979f0e" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">NIAMH-MPCD  documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand centered" href="../index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo" src="../_static/niamh-logo.png" alt="Logo"/>
  </div>
  
  <span class="sidebar-brand-text">NIAMH-MPCD  documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../Summary/Summary.html">Summary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Algorithm/Algorithm.html">Algorithm</a></li>
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">Installation guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="Run.html">Run guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Input/inputFiles.html">Input guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Tutorials/Tutorials.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Usage/Usage.html">MPCD usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../HardCoded/HardCoded.html">Hard-coded options</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Inclusions/Inclusions.html">Inclusions and solutes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ExtraTheory/ExtraTheory.html">Additional theoretical background</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Outputs/Outputs.html">Outputs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Analysis/Analysis.html">Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="../DeveloperGuide/DeveloperGuide.html">Developer’s guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../References/References.html">Bibliography</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section id="installation-guide">
<span id="install"></span><h1>Installation guide<a class="headerlink" href="#installation-guide" title="Permalink to this heading">#</a></h1>
<p>This section explains how to install NIAMH-MPCD, makefile options, and arguments used.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Key information for advanced users:</p>
<ul class="simple">
<li><p>NIAMH-MPCD has no external dependencies</p></li>
<li><p>Compilation is done with a standard makefile</p></li>
<li><p>Common UNIX C compilers successfully compile NIAMH-MPCD.</p></li>
</ul>
</div>
<section id="installation-instructions">
<span id="installation"></span><h2>Installation instructions<a class="headerlink" href="#installation-instructions" title="Permalink to this heading">#</a></h2>
<p>This section describes how to install NIAMH-MPCD, and how to prepare to install it on a new system.
It is assumed that you have basic understanding of a <a class="reference external" href="https://ubuntu.com/tutorials/command-line-for-beginners#1-overview">command-line terminal</a>.</p>
<p>Depending on your operating system, please follow these instructions to install NIAMH-MPCD:</p>
<ul class="simple">
<li><p>If you are running on <strong>Windows</strong>, and do not have Windows Subsystem for Linux (WSL) installed, please follow the instructions in the <a class="reference internal" href="#wsl"><span class="std std-ref">Windows - WSL setup</span></a> section.</p></li>
<li><p>If you are running on <strong>Mac OS</strong>, and do not have dev tools such as make or a compiler installed, please follow the instructions in the <a class="reference internal" href="#mac"><span class="std std-ref">Mac OS X - Dev tools setup</span></a> section.</p></li>
<li><p>If you are running on native <strong>Linux</strong>, or <strong>otherwise</strong>, please follow the instructions in the <a class="reference internal" href="#installcommon"><span class="std std-ref">Common installation instructions</span></a> section.</p></li>
</ul>
<section id="windows-wsl-setup">
<span id="wsl"></span><h3>Windows - WSL setup<a class="headerlink" href="#windows-wsl-setup" title="Permalink to this heading">#</a></h3>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The Shendruk Lab does not support NIAMH-MPCD natively on Windows without WSL.</p>
<p>This is due to lacking support for <code class="docutils literal notranslate"><span class="pre">make</span></code> on Windows, and a requirement of the MD subsystem not compiling using MinGW or MSVC.
Ultimately, this is likely to be fixed in a future update.</p>
</div>
<p>Running NIAMH-MPCD on Windows must be done through the Windows Subsystem for Linux (WSL) compatability layer.
This is a feature of Windows 10 and 11, allowing for native Linux calls to be made from the Windows kernel, effectively acting as a low-level VM.
More practically, it gives you a UNIX terminal within Windows.</p>
<p>The remainder of this section roughly follows the explanation given by Microsoft in their <a class="reference external" href="https://learn.microsoft.com/en-us/windows/wsl/install">official installation guide for WSL</a>, and <a class="reference external" href="https://learn.microsoft.com/en-us/windows/wsl/setup/environment#set-up-your-linux-username-and-password">tutorial for setting up a developer environment in WSL</a>.</p>
<p>For basic install, open up a command prompt or powershell terminal as administrator, and run</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="n">wsl</span> <span class="p">-</span><span class="n">-install</span>
</pre></div>
</div>
<p>By default, this installs Ubuntu; however, alternative distributions can be installed via terminal commands, or via the Microsoft store app (search for WSL).
You will be able to then open WSL by opening the start menu, and searching for the distribution you installed.
You can also directly open a WSL instance from the new Windows terminal.</p>
<div class="table-wrapper colwidths-given docutils container">
<table class="docutils align-center">
<colgroup>
<col style="width: 50.0%" />
<col style="width: 50.0%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><a class="reference internal image-reference" href="../_images/WSLStartMenu.png"><img alt="../_images/WSLStartMenu.png" class="align-center" src="../_images/WSLStartMenu.png" style="width: 95%;" /></a>
</td>
<td><a class="reference internal image-reference" href="../_images/WSLTerminal.png"><img alt="../_images/WSLTerminal.png" class="align-center" src="../_images/WSLTerminal.png" style="width: 95%;" /></a>
</td>
</tr>
</tbody>
</table>
</div>
<p>Once open, WSL will ask for you to make a username and password for your Linux user account.
This is separate from your Windows account, and can be anything you like.
Your password will be required in the future for <code class="docutils literal notranslate"><span class="pre">sudo</span></code> commands, such as to install packages.</p>
<p>The default WSL file system is located within your appdata folder and is not easily accessible from the Windows file system.
Instead, from within WSL, you can open a Windows file explorer window by running</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">explorer.exe .</span>
</pre></div>
</div>
<p>This will open a file explorer window in the current directory of your WSL instance.</p>
<p>An alternative method is to save files in a Windows directory easily accessible from a root drive, such as <code class="docutils literal notranslate"><span class="pre">C:\\</span></code>.
These can be accessed within WSL by navigating to <code class="docutils literal notranslate"><span class="pre">/mnt/c/</span></code> (or whichever drive you saved the files to).</p>
<p>Before continuing, ensure git and a compiler (such as gcc) is installed on your WSL instance by running</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">git --version</span>
<span class="go">gcc --version</span>
</pre></div>
</div>
<p>If you recieve a warning about either git or gcc not being installed after running these commands, then you will need to install them via your Linux distribution’s package manager.
In Ubuntu, this will be done by running</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">sudo apt install git</span>
<span class="go">sudo apt install gcc</span>
</pre></div>
</div>
<p>Once installed, you can continue with the <a class="reference internal" href="#installcommon"><span class="std std-ref">Common installation instructions</span></a> section.</p>
</section>
<section id="mac-os-x-dev-tools-setup">
<span id="mac"></span><h3>Mac OS X - Dev tools setup<a class="headerlink" href="#mac-os-x-dev-tools-setup" title="Permalink to this heading">#</a></h3>
<p>To run NIAMH-MPCD on a Mac, the only requirements are a C compiler and the GNU make utility.
These can be installed via the XCode command line tools:
Open a terminal (under Applications/Utilities), and run</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">xcode-select --install</span>
</pre></div>
</div>
<p>In the pop-up window, click Install and agree to the terms of service.
This will install both make and a C compiler.</p>
<p>An alternative method is to install using homebrew, a package manager for Mac OS.
To install make and a C compiler using homebrew, run</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">brew install make gcc</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>By default on Mac, gcc is an alias for the clang compiler.
This can be verified by running <code class="docutils literal notranslate"><span class="pre">gcc</span> <span class="pre">-v</span></code> in a terminal and verifying output.</p>
<p>See <a class="reference internal" href="#compileroptions"><span class="std std-ref">Compilers</span></a> for more information on compilers.</p>
</div>
<p>Once done, you can continue with the <a class="reference internal" href="#installcommon"><span class="std std-ref">Common installation instructions</span></a> section.</p>
</section>
<section id="common-installation-instructions">
<span id="installcommon"></span><h3>Common installation instructions<a class="headerlink" href="#common-installation-instructions" title="Permalink to this heading">#</a></h3>
<p>NIAMH-MPCD is distributed via it’s <a class="reference external" href="https://github.com/Shendruk-Lab/MPCD">Github repository</a>, from which it can be downloaded by either clicking the green “Code” button and selecting “Download ZIP”, or by cloning the repository using git.
To clone via git, open a UNIX terminal and run</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">git clone https://github.com/Shendruk-Lab/MPCD.git</span>
</pre></div>
</div>
<p>This will create a folder called <code class="docutils literal notranslate"><span class="pre">mpcd</span></code> in your current directory, containing the source code for NIAMH-MPCD.
To compile, navigate within this folder (such that the <code class="docutils literal notranslate"><span class="pre">Makefile</span></code> is at the same level as your current working directory) and then call</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">make</span>
</pre></div>
</div>
<p><strong>This is all that is required to compile the code</strong>.</p>
<section id="resulting-executable">
<h4>Resulting executable<a class="headerlink" href="#resulting-executable" title="Permalink to this heading">#</a></h4>
<p>The compiled executable file will be called <code class="docutils literal notranslate"><span class="pre">mpcd.out</span></code> and will be located in the same directory as the <code class="docutils literal notranslate"><span class="pre">Makefile</span></code>.
The program can then be run by calling <code class="docutils literal notranslate"><span class="pre">./mpcd.out</span></code>, with arguments as detailed in the <a class="reference internal" href="Run.html#progargs"><span class="std std-ref">Program arguments</span></a> section.</p>
</section>
</section>
</section>
<section id="makefile-options">
<h2>Makefile options<a class="headerlink" href="#makefile-options" title="Permalink to this heading">#</a></h2>
<p>The functionality of the <code class="docutils literal notranslate"><span class="pre">make</span></code> call to compile NIAMH-MPCD is entirely controled by the <code class="docutils literal notranslate"><span class="pre">Makefile</span></code> in the root <code class="docutils literal notranslate"><span class="pre">mpcd</span></code> directory.
There are two main ways to control the compilation process: By adjustng <code class="docutils literal notranslate"><span class="pre">Makefile</span></code> variables, or calling make phonies.
In this section we highlight a specific important phony call, before explaining both methods.</p>
<section id="make-clean">
<h3>Make clean<a class="headerlink" href="#make-clean" title="Permalink to this heading">#</a></h3>
<p>A clean operation is a particularly important phony call.
This will remove compiled binaries and “object files”, which are used by the compiler.
Performing a make clean after any significant code change, or before a new compilation, is highly recommended.</p>
<p>To perform a clean, simply run</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">make clean</span>
</pre></div>
</div>
</section>
<section id="makefile-phonies">
<h3>Makefile phonies<a class="headerlink" href="#makefile-phonies" title="Permalink to this heading">#</a></h3>
<p>Makefile phonies are the recommended way to compile non-standard builds of NIAMH-MPCD.
These are pre-defined rules that can be called by running <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">&lt;phony&gt;</span></code>, of which <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">clean</span></code> is the most important example.</p>
<p>Phonies are defiend in the <code class="docutils literal notranslate"><span class="pre">Makefile</span></code> by a line of format</p>
<div class="highlight-makefile notranslate"><div class="highlight"><pre><span></span><span class="nf">.PHONY</span><span class="o">:</span><span class="w"> </span>&lt;<span class="n">phony</span>&gt;
</pre></div>
</div>
<p>The most up-to-date list of these will always be present in the <code class="docutils literal notranslate"><span class="pre">Makefile</span></code>, but a summary of particularly important ones include</p>
<ul class="simple">
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">clean</span></code>:</dt><dd><p>Removes all compiled binaries and object files.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">guide</span></code>:</dt><dd><p>Builds this user guide.
Requires Sphinx to be installed.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">docs</span></code>:</dt><dd><p>Builds doxygen code documentation for NIAMH-MPCD.
Requires doxygen to be installed.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">debug</span></code>:</dt><dd><p>Compiles the code with debug symbols and optimisation disabled.
Designed for use with any general debugger, and is only used for code development.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">debug+</span></code>:</dt><dd><p>Compiles the code with debug symbols and optimisation disabled, but with extra information specifically read by the <code class="docutils literal notranslate"><span class="pre">gdb</span></code> debugger and the <code class="docutils literal notranslate"><span class="pre">valgrind</span></code> tool.
Only used for code development.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">prof</span></code>:</dt><dd><p>Compiles the code with debug symbols and profiling logging enabled.
Designed for easier use with the <code class="docutils literal notranslate"><span class="pre">gprof</span></code> profiler, and is used to optimise the simulator during development.</p>
</dd>
</dl>
</li>
</ul>
</section>
<section id="makefile-variables">
<h3>Makefile variables<a class="headerlink" href="#makefile-variables" title="Permalink to this heading">#</a></h3>
<p>Direct editing of the <code class="docutils literal notranslate"><span class="pre">Makefile</span></code> is highly discouraged.
Instead, variables can be appended to the <code class="docutils literal notranslate"><span class="pre">make</span></code> call to change compilation behaviour.</p>
<p>There are three variables that may be helpful to modify:</p>
<ul class="simple">
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">cc</span></code>:</dt><dd><p>The C compiler to use. By default, this is <code class="docutils literal notranslate"><span class="pre">gcc</span></code>, however it can be changed to any C compiler installed on your system.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">cflags</span></code>:</dt><dd><p>The compilation flags to use. By default, this is just <code class="docutils literal notranslate"><span class="pre">-Wall</span></code>, to ensure all warnings are shown.
This can be changed to any flags supported by your C compiler.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">opt</span></code>:</dt><dd><p>This option is for optimisation flags.
Compilers will try to optimise and speed up the binaries they produce by making shortcuts in code, however this can cause issues with the compiled code.
By default, this is set to <code class="docutils literal notranslate"><span class="pre">-O3</span></code>, which is the highest level of optimisation, so it may be necessary to lower it to lower levels such as <code class="docutils literal notranslate"><span class="pre">-O2</span></code>, <code class="docutils literal notranslate"><span class="pre">-O1</span></code>, or <code class="docutils literal notranslate"><span class="pre">-O0</span></code>.</p>
</dd>
</dl>
</li>
</ul>
<p>An example of a <code class="docutils literal notranslate"><span class="pre">make</span></code> call setting all of these variables is</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">make cc=clang cflags=&quot;-Wall -Wextra -Werror&quot; opt=-O2</span>
</pre></div>
</div>
</section>
<section id="compilers">
<span id="compileroptions"></span><h3>Compilers<a class="headerlink" href="#compilers" title="Permalink to this heading">#</a></h3>
<p>NIAMH-MPCD has been tested with a number of compilers, and is known to work with the following</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">gcc</span></code> — The GNU C compiler</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">clang</span></code> — The LLVM C compiler</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">icc</span></code> — The Intel C compiler</p></li>
</ul>
<p>Of these, <code class="docutils literal notranslate"><span class="pre">gcc</span></code> and <code class="docutils literal notranslate"><span class="pre">clang</span></code> are the most common and we endeavour to support both primarily.
We have qualatative evidence that <code class="docutils literal notranslate"><span class="pre">clang</span></code> is more resilient to code “undefined behaviour”, and is slighly more performant.</p>
<p>These compilers can be set by setting the <code class="docutils literal notranslate"><span class="pre">cc</span></code> parameter of the <code class="docutils literal notranslate"><span class="pre">Makefile</span></code>:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">make cc=&lt;compiler&gt;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The Intel C Compiler is known to produce very performant code, but only if you are running on Intel CPU hardware.
Double check the brand of CPU that your computer or cluster is Intel before using this compiler.</p>
</div>
</section>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="Run.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Run guide</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="../Algorithm/Algorithm.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Algorithm</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2023, Shendruk Lab
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Installation guide</a><ul>
<li><a class="reference internal" href="#installation-instructions">Installation instructions</a><ul>
<li><a class="reference internal" href="#windows-wsl-setup">Windows - WSL setup</a></li>
<li><a class="reference internal" href="#mac-os-x-dev-tools-setup">Mac OS X - Dev tools setup</a></li>
<li><a class="reference internal" href="#common-installation-instructions">Common installation instructions</a><ul>
<li><a class="reference internal" href="#resulting-executable">Resulting executable</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#makefile-options">Makefile options</a><ul>
<li><a class="reference internal" href="#make-clean">Make clean</a></li>
<li><a class="reference internal" href="#makefile-phonies">Makefile phonies</a></li>
<li><a class="reference internal" href="#makefile-variables">Makefile variables</a></li>
<li><a class="reference internal" href="#compilers">Compilers</a></li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/scripts/furo.js"></script>
    </body>
</html>